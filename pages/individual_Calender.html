<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Individual Calender Schedule Page</title>
        <link rel = "stylesheet" href ="/css/master.css">
    </head>
    <style>
      body {
          font-family: Arial, sans-serif;
          color: #e2c2b3;
          background-color:#403234;
          /*background-image: url("./images/salon_1.jpg");*/
          height: 100%;
          background-position: center;
          background-repeat: no-repeat;
          background-size: cover;
      }
      </style>
      
    <body>

        <div class = "nav">
        <a href="./index.html">Home</a>
        <a href = "./login.html">Log in</a> 
        <a href ="./signup.html">Sign up</a> 
        <a href ="./groupcalendar.html">Group Calendar</a> 
        <a class="active" href="./individual_Calender.html">Individual Calendar</a>
        </div>


        <h1>User must be logged in to view this page</h1>

        <h4>Authorized users can view personal available appointments and add personal appointments </h4>

        <form id="appointmentForm" action="#">
          <div class="form-group">
            <label for="CustomerName">Customer Name:</label>
            <input type="text" class="form-control" id="name" aria-describedby="name" placeholder="Enter full name" name="name">
          </div>

          <br>

          <div class="form-group">
            <label for="AppointmentDate">Appointment Date:</label>
            <input type="date" id="date" name="date">
          </div>

          <br>

          <div class="form-group">
            <label for="appiontment">Appointment time:</label>
            <input type="time" id="appointment" name="appointment">
          </div>

          <br>
          
          <div class="input-group mb-3">
            <label class="input-group-text" for="description">Appointment Description:</label>
            <select class="form-select" id="description" name="description">
              <option selected>Choose...</option>
              <option value="1">One</option>
              <option value="2">Two</option>
              <option value="3">Three</option>
            </select>
          </div>

          <br>

          <button type="button" onclick="sendData()">Add Appointment</button>
          </form>
          <div id="resultContainer"></div>
          <br>

          <h4>Calender with Appointments goes here</h4>


          <script>
            function sendData() {
                const form = document.getElementById('appointmentForm');
                //create new FormData obj
                const formData = new FormData(form);
                //create new JavaScript obj
                const jsonObject = {};
                //iterate over form data and add it to Javascript obj
                for (const [key, value] of formData.entries()) {
                    jsonObject[key] = value;
                }
                // Send data to  server
                //replace URL_TO_YOUR_SERVER with our server url
                fetch('URL_TO_YOUR_SERVER', {
                      method: 'POST',
                      headers: {
                        'Content-Type': 'application/json', //JSON content
                      },
                      //convert jsonObj to JSON string and send as body
                      body: JSON.stringify(jsonObject),
                })

                // Display the JSON object on the page for testing  purposes 
                const resultContainer = document.getElementById('resultContainer');
                resultContainer.innerText = JSON.stringify(jsonObject, null, 2); // JSON formatting for better readability
}
        </script>
    </body>
</html>
